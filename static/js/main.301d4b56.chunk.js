(this["webpackJsonptraining-app"]=this["webpackJsonptraining-app"]||[]).push([[0],{15:function(e,t,n){e.exports={container:"PostItem_container__P5sxJ",header:"PostItem_header__3lyg2",number:"PostItem_number__1ou4U",post:"PostItem_post__2QKrZ",post__btn:"PostItem_post__btn__-uW0N"}},22:function(e,t,n){e.exports={modalContainer:"UiModal_modalContainer__3WBSl",active:"UiModal_active__jKpBU",content:"UiModal_content__2meRW"}},23:function(e,t,n){e.exports={container:"UiPagination_container__1ulDt",page:"UiPagination_page__28wNs",current__page:"UiPagination_current__page__X_o2f"}},27:function(e,t,n){e.exports={nav:"Navigation_nav__2Wt5b",nav__link:"Navigation_nav__link__vAWRP"}},28:function(e,t,n){e.exports={container:"UiLoading_container__2qTrw",loader:"UiLoading_loader__18eB0",rotate:"UiLoading_rotate__22Y-s"}},29:function(e,t,n){e.exports={container:"PostList_container__26Zto",header:"PostList_header__2S16C"}},30:function(e,t,n){e.exports={container:"UiSelect_container__1SoTs",select:"UiSelect_select__1t0cu"}},31:function(e,t,n){e.exports={container:"Posts_container__3EXVI",div:"Posts_div__gBO8E"}},32:function(e,t,n){e.exports={title:"PostIdComments_title__3M8g4",comments:"PostIdComments_comments__33dLw"}},33:function(e,t,n){e.exports={container:"PostPage_container__1zpg8",title:"PostPage_title__2MdGW"}},34:function(e,t,n){e.exports={container:"Error_container__1YsXt",error:"Error_error__BeCib"}},43:function(e,t,n){e.exports={btn:"UiButton_btn__2uOIQ"}},44:function(e,t,n){e.exports={container:"Header_container__3K-XF"}},45:function(e,t,n){e.exports={input:"UiInput_input__36LnF"}},46:function(e,t,n){e.exports={post:"PostIdPage_post__d1gsZ"}},47:function(e,t,n){e.exports={container:"Login_container__Zt8RA"}},54:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(13),s=n.n(a),i=(n(54),n(3)),o=n(9),u=Object(c.createContext)(null),j=n(8),l=n(48),b=n(43),d=n.n(b),O=n(0),p=function(e){var t=e.children,n=Object(l.a)(e,["children"]);return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",Object(j.a)(Object(j.a)({className:d.a.btn},n),{},{children:t}))})},h=n(27),f=n.n(h),x=function(){var e=Object(c.useContext)(u).setIsAuth;return Object(O.jsxs)("div",{className:f.a.nav,children:[Object(O.jsxs)("div",{className:f.a.nav__link,children:[Object(O.jsx)(o.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(O.jsx)(o.b,{to:"/posts",children:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f"})]}),Object(O.jsx)("div",{children:Object(O.jsx)(p,{onClick:function(t){e(!1),localStorage.removeItem("auth")},children:"\u0412\u044b\u0445\u043e\u0434"})})]})},m=n(2),_=n(28),v=n.n(_),g=function(){return Object(O.jsx)("div",{className:v.a.container,children:Object(O.jsx)("div",{className:v.a.loader})})},N=n(44),C=n.n(N),P=function(){return Object(O.jsx)("div",{className:C.a.container,children:Object(O.jsx)("h1",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})},S=n(21),k=n(4),w=n.n(k),I=n(7),y=n(82),L=n(81),U=n(15),F=n.n(U),M=function(e){var t=e.post,n=e.remove,c=Object(m.f)();return Object(O.jsxs)("div",{className:F.a.container,children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("strong",{className:F.a.header,children:[Object(O.jsxs)("span",{className:F.a.number,children:[t.id,". "]}),t.title]}),Object(O.jsx)("div",{className:F.a.post,children:t.body})]}),Object(O.jsxs)("div",{className:F.a.post__btn,children:[Object(O.jsx)(p,{onClick:function(e){return n(t.id)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(O.jsx)(p,{onClick:function(e){return c("/posts/".concat(t.id))},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]})]})},E=n(29),A=n.n(E),B=function(e){var t=e.posts,n=e.remove;return t.length?Object(O.jsxs)("div",{className:A.a.container,children:[Object(O.jsx)("h1",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0439"}),Object(O.jsx)(y.a,{className:"todo-list",children:t.map((function(e,t){return Object(O.jsx)(L.a,{timeout:500,classNames:"post",children:Object(O.jsx)(M,{post:e,remove:n})},e.id)}))})]}):Object(O.jsx)("h1",{className:A.a.header,children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})},W=n(45),R=n.n(W),V=function(e){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("input",Object(j.a)({className:R.a.input},e))})},X=n(30),Z=n.n(X),D=function(e){var t=e.value,n=e.onChange,c=e.options,r=e.defaultValue;return Object(O.jsx)("div",{className:Z.a.container,children:Object(O.jsxs)("select",{className:Z.a.select,value:t,onChange:function(e){return n(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,value:"",children:r}),c.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.name},e.value)}))]})})},J=(n(59),function(e){var t=e.filter,n=e.setFilter;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(V,{value:t.search,onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{search:e.target.value}))},placeholder:"\u041f\u043e\u0438\u0441\u043a"}),Object(O.jsx)(D,{value:t.sort,onChange:function(e){return n(Object(j.a)(Object(j.a)({},t),{},{sort:e}))},options:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"body",name:"\u041f\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044e"}],defaultValue:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"})]})}),K=(n(60),function(e){var t=e.create,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],b=function(e){if(e.preventDefault(),a&&j){var n={id:Math.random(),title:a,body:j};t(n),s(""),l("")}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("form",{children:[Object(O.jsx)(V,{value:a,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"\u041f\u043e\u043d\u044f\u0442\u0438\u0435"}),Object(O.jsx)(V,{value:j,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435"}),a&&j?Object(O.jsx)(p,{onClick:b,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}):Object(O.jsx)(p,{disabled:!0,onClick:b,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})}),Q=n(22),T=n.n(Q),Y=n(20),q=n.n(Y),z=function(e){var t=e.children,n=e.visible,c=e.setVisible;return Object(O.jsx)("div",{className:q()(T.a.modalContainer,n&&T.a.active),onClick:function(e){return c(!1)},children:Object(O.jsx)("div",{className:T.a.content,onClick:function(e){return e.stopPropagation()},children:t})})},G=n(23),H=n.n(G),$=function(e){var t=e.totalPagesCount,n=e.page,r=e.changePage,a=function(e){return Object(c.useMemo)((function(){for(var t=[],n=1;n<=e;n++)t.push(n);return t}),[e])}(t);return Object(O.jsx)("div",{className:H.a.container,children:a.map((function(e){return Object(O.jsx)("button",{className:q()(H.a.page,n===e&&H.a.current__page),onClick:function(){return r(e)},children:e},e)}))})},ee=n(24),te=n.n(ee),ne=function(){var e=Object(I.a)(w.a.mark((function e(){var t,n,c,r=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:10,n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=4,te.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:n}});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(I.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("https://jsonplaceholder.typicode.com/posts/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(I.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.get("https://jsonplaceholder.typicode.com/posts/".concat(t,"/comments"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),o=Object(i.a)(s,2),u=o[0],j=o[1];return[function(){var t=Object(I.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),j(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),r,u]},se=function(e,t,n){var r=function(e,t){return Object(c.useMemo)((function(){return t?Object(S.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return r.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}))}),[r,n])},ie=function(e,t){return Math.ceil(e/t)},oe=n(31),ue=n.n(oe),je=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({sort:"",search:""}),s=Object(i.a)(a,2),o=s[0],u=s[1],j=Object(c.useState)(!1),l=Object(i.a)(j,2),b=l[0],d=l[1],h=Object(c.useState)(1),f=Object(i.a)(h,2),x=f[0],m=f[1],_=Object(c.useState)(10),v=Object(i.a)(_,1)[0],N=Object(c.useState)(0),C=Object(i.a)(N,2),P=C[0],k=C[1],y=Object(c.useRef)(),L=ae(Object(I.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(v,x);case 2:t=e.sent,n=t.headers["x-total-count"],k(ie(n,v)),r(t.data);case 6:case"end":return e.stop()}}),e)})))),U=Object(i.a)(L,3),F=U[0],M=U[1],E=U[2];!function(e,t,n,r){var a=Object(c.useRef)();Object(c.useEffect)((function(){t||(a.current&&a.current.disconnect(),a.current=new IntersectionObserver((function(e,t){e[0].isIntersecting&&n&&r()})),a.current.observe(e.current))}),[t])}(y,M,x<P,(function(){m(x+1)})),Object(c.useEffect)((function(){F()}),[x]);var A=se(n,o.sort,o.search);return Object(O.jsxs)("div",{className:ue.a.container,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p,{onClick:function(e){return d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435"})}),Object(O.jsx)(z,{visible:b,setVisible:d,children:Object(O.jsx)(K,{create:function(e){r([].concat(Object(S.a)(n),[e])),d(!1)}})}),Object(O.jsx)(J,{filter:o,setFilter:u}),E&&Object(O.jsxs)("div",{children:["\u041e\u0448\u0438\u0431\u043a\u0430 $",E]}),M?Object(O.jsx)(g,{}):Object(O.jsx)(B,{posts:A,remove:function(e){r(n.filter((function(t){return t.id!==e})))}}),Object(O.jsx)($,{totalPagesCount:P,page:x,changePage:function(e){m(e)}}),Object(O.jsx)("div",{ref:y,className:ue.a.div})]})},le=n(46),be=n.n(le),de=function(e){var t=e.isLoadingPostPage,n=e.post;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(g,{}):Object(O.jsxs)("div",{className:be.a.post,children:[n.id,". ",n.body]})})},Oe=n(32),pe=n.n(Oe),he=function(e){var t=e.isLoadingComments,n=e.comments;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:pe.a.title,children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"}),t?Object(O.jsx)(g,{}):n.map((function(e){return Object(O.jsxs)("div",{className:pe.a.comments,children:[Object(O.jsx)("h5",{children:e.email}),Object(O.jsx)("div",{children:e.body})]},e.id)}))]})},fe=n(33),xe=n.n(fe),me=function(){var e=Object(m.g)(),t=Object(m.f)(),n=Object(c.useState)([]),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)([]),u=Object(i.a)(o,2),j=u[0],l=u[1],b=ae(Object(I.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e.id);case 2:n=t.sent,s(n.data);case 4:case"end":return t.stop()}}),t)})))),d=Object(i.a)(b,3),h=d[0],f=d[1],x=(d[2],ae(Object(I.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e.id);case 2:n=t.sent,l(n.data);case 4:case"end":return t.stop()}}),t)}))))),_=Object(i.a)(x,3),v=_[0],g=_[1];_[2];return Object(c.useEffect)((function(){h(),v()}),[]),Object(O.jsxs)("div",{className:xe.a.container,children:[Object(O.jsx)("div",{children:Object(O.jsx)(p,{onClick:function(){return t("/posts")},children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(O.jsxs)("h1",{className:xe.a.title,children:["\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u2116 ",e.id]}),Object(O.jsx)(de,{isLoadingPostPage:f,post:a}),Object(O.jsx)(he,{isLoadingComments:g,comments:j})]})},_e=n(34),ve=n.n(_e),ge=function(){return Object(O.jsx)("div",{className:ve.a.container,children:Object(O.jsx)("h1",{className:ve.a.error,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"})})},Ne=n(47),Ce=n.n(Ne),Pe=function(){var e=Object(c.useContext)(u).setIsAuth;return Object(O.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(!0),localStorage.setItem("auth","true")},children:Object(O.jsxs)("div",{className:Ce.a.container,children:[Object(O.jsx)(V,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d"}),Object(O.jsx)(V,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(O.jsx)("div",{children:Object(O.jsx)(p,{children:"\u0412\u043e\u0439\u0442\u0438"})})]})})},Se=[{path:"/",element:Object(O.jsx)(P,{})},{path:"posts",element:Object(O.jsx)(je,{})},{path:"posts/:id",element:Object(O.jsx)(me,{})},{path:"*",element:Object(O.jsx)(ge,{})}],ke=[{path:"/login",element:Object(O.jsx)(Pe,{})},{path:"*",element:Object(O.jsx)(Pe,{})}],we=function(){var e=Object(c.useContext)(u),t=e.isAuth;return e.isLoading?Object(O.jsx)(g,{}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.c,{children:t?Se.map((function(e,t){return Object(O.jsx)(m.a,{path:e.path,element:e.element},t)})):ke.map((function(e,t){return Object(O.jsx)(m.a,{path:e.path,element:e.element},t)}))})})},Ie=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(i.a)(a,2),j=s[0],l=s[1];return Object(c.useEffect)((function(){localStorage.getItem("auth")&&r(!0),l(!1)}),[]),Object(O.jsx)(u.Provider,{value:{isAuth:n,setIsAuth:r,isLoading:j},children:Object(O.jsxs)(o.a,{basename:"/".concat("training-app","/"),children:[Object(O.jsx)(x,{}),Object(O.jsx)(we,{})]})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Ie,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.301d4b56.chunk.js.map